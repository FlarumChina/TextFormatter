s9e\TextFormatter\Tests\ConfigBuilder\Collections\Collection
 [x] Collection is countable
 [x] Collection is iterable with foreach
 [x] clear() empties the collection
 [x] getConfig() returns the items as an array

s9e\TextFormatter\Tests\ConfigBuilder\Collections\NormalizedCollection
 [x] set() calls normalizeKey()
 [x] set() calls normalizeValue()
 [x] add() calls normalizeKey()
 [x] add() calls normalizeValue()
 [x] add() can be called without a second parameter
 [x] get() throws a RuntimeException if the item already exists
 [x] exists() returns TRUE if the item exists
 [x] exists() returns FALSE if the item does not exist
 [x] exists() calls normalizeKey()
 [x] get() returns an item by name
 [x] get() calls normalizeKey()
 [x] get() throws a RuntimeException if the item does not exist
 [x] delete() removes an item by name
 [x] delete() calls the item's normalizeKey() method
 [x] isset($collection['foo']) maps to $collection->exists('foo')
 [x] $collection['foo'] maps to $collection->get('foo')
 [x] $collection['foo'] = 42 maps to $collection->set('foo', 42)
 [x] unset($collection['foo']) maps to $collection->delete('foo')

s9e\TextFormatter\Tests\ConfigBuilder\Collections\AttributeCollection
 [x] add() returns an instance of s9e\TextFormatter\ConfigBuilder\Items\Attribute

s9e\TextFormatter\Tests\ConfigBuilder\Collections\AttributePreprocessorCollection
 [x] add() returns an instance of s9e\TextFormatter\ConfigBuilder\Items\AttributePreprocessor
 [x] getConfig() returns a list of regexps for each attribute

s9e\TextFormatter\Tests\ConfigBuilder\Collections\FilterChain
 [x] append() throws an InvalidArgumentException on invalid callbacks
 [x] prepend() throws an InvalidArgumentException on invalid callbacks
 [x] append() throws an InvalidArgumentException on uncallable callbacks
 [x] prepend() throws an InvalidArgumentException on uncallable callbacks
 [x] PHP string callbacks are normalized to an instance of s9e\TextFormatter\ConfigBuilder\Items\Filter
 [x] PHP array callbacks are normalized to an instance of s9e\TextFormatter\ConfigBuilder\Items\Filter
 [x] Instances of s9e\TextFormatter\ConfigBuilder\Items\Filter are added as-is
 [x] append() adds the filter at the end of the chain
 [x] prepend() adds the filter at the beginning of the chain
 [x] has() returns false if the given filter is not present in the chain
 [x] has() returns true if the given built-in filter is present in the chain
 [x] has() returns true if the given PHP string callback is present in the chain

s9e\TextFormatter\Tests\ConfigBuilder\Collections\Ruleset
 [x] clear() removes all rules
 [x] clear('allowChild') removes only 'allowChild' rules
 [x] allowChild() throws an exception on invalid tag name
 [x] allowChild() normalizes tag name
 [x] allowDescendant() throws an exception on invalid tag name
 [x] allowDescendant() normalizes tag name
 [x] closeAncestor() throws an exception on invalid tag name
 [x] closeAncestor() normalizes tag name
 [x] closeParent() throws an exception on invalid tag name
 [x] closeParent() normalizes tag name
 [x] denyChild() throws an exception on invalid tag name
 [x] denyChild() normalizes tag name
 [x] denyDescendant() throws an exception on invalid tag name
 [x] denyDescendant() normalizes tag name
 [x] reopenChild() throws an exception on invalid tag name
 [x] reopenChild() normalizes tag name
 [x] requireParent() throws an exception on invalid tag name
 [x] requireParent() normalizes tag name
 [x] requireAncestor() throws an exception on invalid tag name
 [x] requireAncestor() normalizes tag name

s9e\TextFormatter\Tests\ConfigBuilder\Validators\AttributeName
 [x] "url" is normalized to "url"
 [x] "URL" is normalized to "url"
 [x] "_url" is normalized to "_url"
 [x] "md5" is normalized to "md5"
 [x] "5md" is invalid (names must start with a letter)
 [x] "data-src" is normalized to "data-src"
 [x] "foo:bar" is invalid (no colons allowed)
 [x] "foo\n" is invalid (no newlines allowed)

s9e\TextFormatter\Tests\ConfigBuilder\Validators\TagName
 [x] "b" is normalized to "B"
 [x] "B" is normalized to "B"
 [x] "_b" is normalized to "_B"
 [x] "H1" is normalized to "H1"
 [x] "1H" is invalid (names must start with a letter)
 [x] "foo-bar" is invalid (no dashes allowed)
 [x] "foo:bar" is normalized to "foo:bar"
 [x] ":bar" is invalid (empty prefix)
 [x] "_foo:bar" is normalized to "_foo:bar"
 [x] "Foo:bar" is normalized to "Foo:bar"
 [x] "f00:b4r" is normalized to "f00:b4r"
 [x] "foo_bar:baz" is normalized to "foo_bar:baz"
 [x] "7up:foo" is invalid (prefix must start with a letter)
 [x] "foo:bar:baz" is invalid (only one colon allowed)
 [x] "xsl:foo" is invalid ('xsl' prefix is reserved)
 [x] "s9e:foo" is invalid ('s9e' prefix is reserved)
 [x] "B\n" is invalid (no newlines allowed)

s9e\TextFormatter\Tests\ConfigBuilder\Items\Attribute
 [x] An array of options can be passed to the constructor
 [x] The filterChain property can be assigned an array
 [x] The filterChain property can be replaced with another instance of FilterChain
 [x] setFilterChain() throws an InvalidArgumentException if its argument is not an array or an instance of FilterChain

s9e\TextFormatter\Tests\ConfigBuilder\Items\Tag
 [x] An array of options can be passed to the constructor

