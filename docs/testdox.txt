autoloader
 [x] Can load s9e\TextFormatter\Configurator
 [x] Can load s9e\TextFormatter\Parser\Tag
 [x] Can load s9e\TextFormatter\Plugins\Emoticons\Parser

s9e\TextFormatter\Tests\Configurator\Collections\Collection
 [x] Collection is countable
 [x] Collection is iterable with foreach
 [x] clear() empties the collection
 [x] asConfig() returns the items as an array

s9e\TextFormatter\Tests\Configurator\Collections\NormalizedCollection
 [x] set() calls normalizeKey()
 [x] set() calls normalizeValue()
 [x] add() calls normalizeKey()
 [x] add() calls normalizeValue()
 [x] add() can be called without a second parameter
 [x] get() throws a RuntimeException if the item already exists
 [x] exists() returns TRUE if the item exists
 [x] exists() returns FALSE if the item does not exist
 [x] exists() calls normalizeKey()
 [x] get() returns an item by name
 [x] get() calls normalizeKey()
 [x] get() throws a RuntimeException if the item does not exist
 [x] delete() removes an item by name
 [x] delete() calls the item's normalizeKey() method
 [x] isset($collection['foo']) maps to $collection->exists('foo')
 [x] $collection['foo'] maps to $collection->get('foo')
 [x] $collection['foo'] = 42 maps to $collection->set('foo', 42)
 [x] unset($collection['foo']) maps to $collection->delete('foo')
 [x] contains() returns true if the given value is present in the collection
 [x] contains() returns false if the given value is not present in the collection
 [x] contains() checks for equality, not identity
 [x] indexOf() returns the key if the given value is present in the collection
 [x] indexOf() returns false if the given value is not present in the collection
 [x] indexOf() checks for equality, not identity

s9e\TextFormatter\Tests\Configurator\Collections\NormalizedList
 [x] append() adds the value at the end of the list
 [x] $normalizedList[] = 'foo' maps to $normalizedList->append('foo')
 [x] prepend() adds the value at the beginning of the list
 [x] insert() inserts the value at given offset
 [x] insert() can insert value that is an array
 [x] insert() throws an exception if the offset is out of bounds
 [x] $normalizedList[0] = 'foo' replaces the first value of the list if it exists
 [x] $normalizedList[0] = 'foo' appends to the list if it's empty
 [x] $normalizedList[1] = 'foo' throws an InvalidArgumentException if the list is empty
 [x] $normalizedList['foo'] = 'bar' throws an InvalidArgumentException
 [x] Deleting a value by key reorders the list to remove gaps

s9e\TextFormatter\Tests\Configurator\Traits\CollectionProxy
 [x] $proxy->add() gets forwarded to $proxy->collection->add() with all arguments
 [x] $proxy->add() returns the value returned by $proxy->collection->add()
 [x] $proxy->exists() gets forwarded to $proxy->collection->exists() with all arguments
 [x] $proxy->delete() gets forwarded to $proxy->collection->delete() with all arguments
 [x] $proxy->get() gets forwarded to $proxy->collection->get() with all arguments
 [x] $proxy->get() returns the value returned by $proxy->collection->get()
 [x] $proxy->set() gets forwarded to $proxy->collection->set() with all arguments
 [x] $proxy->set() returns the value returned by $proxy->collection->set()
 [x] $proxy['foo'] returns $proxy->collection['foo']
 [x] $proxy['foo'] = 42 sets $proxy->collection['foo'] = 42
 [x] isset($proxy['foo']) returns isset($proxy->collection['foo'])
 [x] unset($proxy['foo']) calls unset($proxy->collection['foo'])
 [x] count($proxy) returns count($proxy->collection)
 [x] A collection proxy is iterable with foreach

s9e\TextFormatter\Tests\Configurator\Traits\Configurable
 [x] __get('foo') calls getFoo() if it exists
 [x] __get($k) returns the property if it exists
 [x] __get() throws a RuntimeException if the property does not exist
 [x] __get($k) returns null if the property is null
 [x] __set('foo', 'bar') calls setFoo('bar') if it exists
 [x] __set() can create new properties
 [x] __set() can replace an instance of Foo with another instance of Foo
 [x] __set() can replace an instance of Foo with an instance of FooPlus, which extends Foo
 [x] __set() throws an exception if an instance of Foo would be replaced by an instance of Bar
 [x] __set() can replace a scalar value with a value of the same type
 [x] __set() can replace a scalar value with another scalar value if it can be losslessly cast to the same type
 [x] __set() throws an exception if a scalar value would be overwritten by a scalar value that cannot be losslessly cast to the same type
 [x] __set() will clear and repopulate a NormalizedCollection rather than overwrite it
 [x] __set() throws an exception if a NormalizedCollection would be overwritten by a non-array, non-Traversable value
 [x] __isset($k) returns true if the property exists

s9e\TextFormatter\Tests\Configurator
 [x] $configurator->customFilters is an instance of FilterCollection
 [x] $configurator->javascript is an instance of Javascript
 [x] $configurator->plugins is an instance of PluginCollection
 [x] $configurator->rootRules is an instance of Ruleset
 [x] $configurator->stylesheet is an instance of Stylesheet
 [x] $configurator->tags is an instance of TagCollection
 [x] $configurator->urlConfig is an instance of UrlConfig
 [x] asConfig() returns an array with a rootContext element
 [x] asConfig() returns an array with a registeredVars element that contains urlConfig
 [x] asConfig() adds regexpLimit to the plugin's configuration if it's not specified and the plugin has a regexp
 [x] asConfig() removes regexpLimit from the plugin's configuration if it does not have a regexp
 [x] asConfig() adds regexpLimitAction to the plugin's configuration if it's not specified and the plugin has a regexp
 [x] asConfig() removes regexpLimitAction from the plugin's configuration if it does not have a regexp
 [x] asConfig() adds quickMatch to the plugin's configuration if available
 [x] asConfig() omits a plugin's quickMatch if it's false
 [x] asConfig() adds allowedChildren and allowedDescendants bitfields to each tag
 [x] getParser() returns an instance of s9e\TextFormatter\Parser
 [x] getParser() removes Javascript-specific data from tag filters
 [x] getParser() removes Javascript-specific data from attribute filters
 [x] getRenderer() returns an instance of s9e\TextFormatter\Renderer
 [x] $configurator->BBCodes returns $configurator->plugins->load('BBCodes') if the plugin hasn't been loaded already
 [x] $configurator->BBCodes returns $configurator->plugins->get('BBCodes') if the plugin has already been loaded
 [x] $configurator->foo throws an exception
 [x] addHTML5Rules() add root rules
 [x] addHTML5Rules() add tag rules
 [x] addHTML5Rules() passes its options to the generator

s9e\TextFormatter\Tests\Configurator\Collections\AttributeCollection
 [x] add() returns an instance of s9e\TextFormatter\Configurator\Items\Attribute
 [x] add() normalizes the attribute name
 [x] delete() normalizes the attribute name
 [x] exists() normalizes the attribute name
 [x] get() normalizes the attribute name
 [x] set() normalizes the attribute name

s9e\TextFormatter\Tests\Configurator\Lists\AttributeList
 [x] Attribute names are normalized for storage
 [x] Attribute names are normalized during retrieval
 [x] asConfig() returns a deduplicated list of attribute names

s9e\TextFormatter\Tests\Configurator\Collections\AttributePreprocessorCollection
 [x] add() returns an instance of s9e\TextFormatter\Configurator\Items\AttributePreprocessor
 [x] asConfig() returns a list of [attrName, regexp] arrays
 [x] asConfig() has a Javascript variant for each attribute preprocessor
 [x] asConfig()'s Javascript variants contain a RegExp object instead of a regexp string, plus a map of named subpatterns
 [x] Is iterable with foreach
 [x] Uses the name of the source attribute as key when iterating
 [x] merge() accepts a 2D array of regexps
 [x] merge() accepts a 2D array of AttributePreprocessor instances
 [x] merge() accepts an instance of AttributePreprocessorCollection to copy its content
 [x] merge() throws an exception when passed a non-array, non-AttributProcessorCollection
 [x] merge() throws an exception when passed a one-dimensional array

s9e\TextFormatter\Tests\Configurator\Collections\FilterChain
 [x] append() adds the filter at the end of the chain
 [x] prepend() adds the filter at the beginning of the chain
 [x] append() correctly records filter vars
 [x] prepend() correctly records filter vars
 [x] append() throws an InvalidArgumentException on invalid callbacks
 [x] prepend() throws an InvalidArgumentException on invalid callbacks
 [x] append() throws an InvalidArgumentException on uncallable callbacks
 [x] prepend() throws an InvalidArgumentException on uncallable callbacks
 [x] $filterChain[] = 'foo' maps to $filterChain->append('foo')
 [x] PHP string callbacks are normalized to an instance of ProgrammableCallback
 [x] PHP array callbacks are normalized to an instance of ProgrammableCallback
 [x] Instances of CallbackPlaceholder are normalized to an instance of ProgrammableCallback
 [x] Instances of ProgrammableCallback are added as-is
 [x] Generated instances of ProgrammableCallback based on PHP callbacks adopt the default signature
 [x] contains() returns false if the given filter is not present in the chain
 [x] contains() returns true if the given built-in filter is present in the chain
 [x] contains() returns true if the given PHP string callback is present in the chain
 [x] $filterChain['foo'] = 'strtolower' throws an InvalidArgumentException
 [x] Deleting a filter reorders the chain to remove gaps

s9e\TextFormatter\Tests\Configurator\Collections\FilterCollection
 [x] Throws an exception if the value is not an instance of ProgrammableCallback
 [x] Accepts instances of Filter

s9e\TextFormatter\Tests\Configurator\Collections\PluginCollection
 [x] load() can load a stock plugin
 [x] load() throws an exception if the stock plugin does not exist
 [x] Accepts an object that implements ConfiguratorBase
 [x] Accepts a string that is the name of a class that implements ConfiguratorBase
 [x] Throws an exception if the value is neither an instance of or the name of a class that implements ConfiguratorBase
 [x] Throws an exception if the plugin name is not entirely composed of letters, numbers and underscores
 [x] Throws an exception if the plugin name does not start with an uppercase letter
 [x] asConfig() adds regexpLimit to the plugin's configuration if it's not specified and the plugin has a regexp
 [x] asConfig() removes regexpLimit from the plugin's configuration if it does not have a regexp
 [x] asConfig() adds regexpLimitAction to the plugin's configuration if it's not specified and the plugin has a regexp
 [x] asConfig() removes regexpLimitAction from the plugin's configuration if it does not have a regexp
 [x] asConfig() adds quickMatch to the plugin's configuration if available
 [x] asConfig() omits a plugin's quickMatch if it's false

s9e\TextFormatter\Tests\Configurator\Collections\Ruleset
 [x] isset($ruleset['allowChild']) tests whether any allowChild rules exist
 [x] $ruleset['allowChild'] returns the allowChild rules if they exist
 [x] Trying to set rules via array access throws a RuntimeException
 [x] unset($ruleset['allowChild']) clears all allowChild rules
 [x] clear() removes all rules
 [x] clear('allowChild') removes only 'allowChild' rules
 [x] allowChild() throws an exception on invalid tag name
 [x] allowChild() normalizes tag name
 [x] allowDescendant() throws an exception on invalid tag name
 [x] allowDescendant() normalizes tag name
 [x] autoClose() accepts a boolean
 [x] autoClose() throws an exception if its argument is not a boolean
 [x] autoReopen() accepts a boolean
 [x] autoReopen() throws an exception if its argument is not a boolean
 [x] closeAncestor() throws an exception on invalid tag name
 [x] closeAncestor() normalizes tag name
 [x] closeParent() normalizes tag name
 [x] defaultChildRule() accepts 'allow'
 [x] defaultChildRule() accepts 'deny'
 [x] defaultChildRule() throws an exception if passed anything else than 'allow' or 'deny'
 [x] defaultDescendantRule() accepts 'allow'
 [x] defaultDescendantRule() accepts 'deny'
 [x] defaultDescendantRule() throws an exception if passed anything else than 'allow' or 'deny'
 [x] denyAll() accepts a boolean
 [x] denyAll() throws an exception if its argument is not a boolean
 [x] denyChild() throws an exception on invalid tag name
 [x] denyChild() normalizes tag name
 [x] denyDescendant() throws an exception on invalid tag name
 [x] denyDescendant() normalizes tag name
 [x] ignoreText() accepts a boolean
 [x] ignoreText() throws an exception if its argument is not a boolean
 [x] isTransparent() accepts a boolean
 [x] isTransparent() throws an exception if its argument is not a boolean
 [x] noBrChild() accepts a boolean
 [x] noBrChild() throws an exception if its argument is not a boolean
 [x] noBrDescendant() accepts a boolean
 [x] noBrDescendant() throws an exception if its argument is not a boolean
 [x] trimWhitespace() accepts a boolean
 [x] trimWhitespace() throws an exception if its argument is not a boolean
 [x] requireParent() throws an exception on invalid tag name
 [x] requireParent() normalizes tag name
 [x] requireAncestor() throws an exception on invalid tag name
 [x] requireAncestor() normalizes tag name
 [x] merge() accepts a 2D array of rules
 [x] merge() correctly copies the defaultChildRule setting from an array
 [x] merge() correctly copies the defaultDescendantRule setting from an array
 [x] merge() correctly copies the isTransparent setting from an array
 [x] merge() accepts an instance of Ruleset to copy its content
 [x] merge() correctly copies the defaultChildRule setting from an instance of Ruleset
 [x] merge() correctly copies the defaultDescendantRule setting from an instance of Ruleset
 [x] merge() correctly copies the isTransparent setting from an instance of Ruleset
 [x] merge() throws an InvalidArgumentException if its argument is not an array or an instance of Ruleset
 [x] asConfig() does not return rules that are not used during parsing
 [x] asConfig() uses target names as keys for closeAncestor
 [x] asConfig() uses target names as keys for closeParent
 [x] asConfig() uses target names as keys for requireAncestor
 [x] asConfig() packs boolean rules in a value named "flags"
 [x] asConfig() can pack multiple boolean rules in a value named "flags"
 [x] asConfig() sets noBrChild's bit if noBrDescendant is set

s9e\TextFormatter\Tests\Configurator\Collections\TagCollection
 [x] add() returns an instance of s9e\TextFormatter\Configurator\Items\Tag
 [x] add() normalizes the tag name
 [x] delete() normalizes the tag name
 [x] exists() normalizes the tag name
 [x] get() normalizes the tag name
 [x] set() normalizes the tag name

s9e\TextFormatter\Tests\Configurator\Collections\TemplateCollection
 [x] set() accepts a string and returns an instance of Template
 [x] set() accepts a callback and returns an instance of Template
 [x] set() accepts an instance of Template, which it returns
 [x] set() optimizes string templates
 [x] set() checks string templates for unsafe content

s9e\TextFormatter\Tests\Configurator\UnsafeTemplateException
 [x] getNode() returns the stored node

s9e\TextFormatter\Tests\Configurator\Helpers\ConfigHelper
 [x] filterVariants() filters the right variant
 [x] filterVariants() recurses into deep arrays
 [x] filterVariants() recurses into variants
 [x] filterVariants() removes NULL variants
 [x] generateQuickMatchFromList() returns the longest common substring of a list of strings
 [x] generateQuickMatchFromList() returns a string even if it contains only digit characters
 [x] generateQuickMatchFromList() returns FALSE if no common substring is found
 [x] generateQuickMatchFromList() compares strings as bytes and returns a binary string
 [x] toArray() works with deep arrays
 [x] toArray() calls asConfig() for objects in deep arrays that implement ConfigProvider
 [x] toArray() throws an exception for objects in deep arrays that are not Traversable and do not implement ConfigProvider
 [x] toArray() omits NULL values
 [x] toArray() omits empty arrays from values
 [x] toArray() keeps empty arrays if its second argument is TRUE
 [x] replaceBuiltInFilters() replaces built-in attribute filter #int by its callback s9e\TextFormatter\Parser\BuiltInFilters::filterInt
 [x] replaceBuiltInFilters() copies the built-in filters' signatures based on the names of their parameters
 [x] replaceBuiltInFilters() replaces built-in tag filter #filterAttributes by its callback s9e\TextFormatter\Parser::filterAttributes
 [x] replaceBuiltInFilters() replaces custom attribute filter #foo by its registered callback
 [x] replaceBuiltInFilters() replaces custom tag filter #foo by its registered callback
 [x] replaceBuiltInFilters() adds variables set for an attribute filter to the custom filter without overwriting the variables set for the custom filter
 [x] replaceBuiltInFilters() doesn't choke on an empty filterChain
 [x] replaceBuiltInFilters() doesn't touch normal callbacks expressed as a string
 [x] replaceBuiltInFilters() throws an exception on unknown custom filters
 [x] optimizeArray() uses references to deduplicate equal arrays

s9e\TextFormatter\Tests\Configurator\Helpers\HTML5\TemplateForensics
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    [x] Parsing tests
 [x] Parsing tests (Javascript)

s9e\TextFormatter\Tests\Plugins\Censor\Configurator
 [x] Automatically creates a "CENSOR" tag
 [x] Automatically creates a "with" attribute with required=false
 [x] Does not attempt to create a tag if it already exists
 [x] The name of the tag used can be changed through the "tagName" constructor option
 [x] The name of the attribute used can be changed through the "attrName" constructor option
 [x] asConfig() returns FALSE if no words were added
 [x] Generates a regexp for its config array
 [x] The config array contains the name of the tag
 [x] The config array contains the name of the attribute
 [x] Returns the replacements in its config in the form [[regexp, replacement]]
 [x] Words sharing the same replacement share a common regexp
 [x] Words using the default replacement do not appear in the replacements
 [x] asConfig() creates a Javascript variant for the plugin's regexp
 [x] asConfig() creates a Javascript variant for the regexps used in replacements

s9e\TextFormatter\Tests\Plugins\Censor\Parser
 [x] Parsing tests
 [x] Parsing tests (Javascript)
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Plugins\Emoticons\Configurator
 [x] Automatically creates an "E" tag
 [x] Does not attempt to create a tag if it already exists
 [x] The name of the tag used can be changed through the "tagName" constructor option
 [x] set(':)', '<img src="e.png"/>') creates a :) emoticon that maps to <img src="e.png"/>
 [x] set(':)', '<img src="e.png">') creates a :) emoticon that maps to <img src="e.png"/>
 [x] Emoticons can contain single quotes
 [x] Emoticons can contain double quotes
 [x] Emoticons can contain both quotes at once
 [x] asConfig() returns FALSE if no emoticons were set
 [x] Generates a regexp for its config array
 [x] The config array contains the name of the tag
 [x] asConfig() generates a quickMatch if applicable

s9e\TextFormatter\Tests\Plugins\Emoticons\Configurator\EmoticonCollection
 [x] Normalizes HTML templates
 [x] Throws an exception when an invalid template is set
 [x] Throws an exception when an unsafe template is set

s9e\TextFormatter\Tests\Plugins\Emoticons\Parser
 [x] Parsing tests
 [x] Parsing tests (Javascript)
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Plugins\Escaper\Configurator
 [x] Automatically creates an "ESC" tag
 [x] The name of the tag used can be changed through the "tagName" constructor option
 [x] Has a quickMatch
 [x] Generates a regexp for its config array
 [x] The config array contains the name of the tag

s9e\TextFormatter\Tests\Plugins\Escaper\Parser
 [x] Parsing tests
 [x] Parsing tests (Javascript)
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Plugins\Generic\Configurator
 [x] add() returns the name of the tag it creates
 [x] add() throws an exception if the regexp is invalid
 [x] add() throws an exception on duplicate named subpatterns
 [x] add() creates a tag to represent the replacement
 [x] add() creates an attribute for each named subpattern
 [x] add() creates a regexp filter for each attribute created
 [x] An error occuring during add() does not leave a half-configured tag in the configurator's collection
 [x] asConfig() returns FALSE if no replacements were set
 [x] asConfig() returns the regexps in a "generics" array where each element is in the form [<tagName>,<regexp>]
 [x] asConfig() creates a Javascript variant of generics
 [x] asConfig() creates Javascript variants that contain a RegExp object instead of a regexp string, plus a map of named subpatterns

s9e\TextFormatter\Tests\Plugins\Generic\Parser
 [x] Parsing tests
 [x] Parsing tests (Javascript)
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Plugins\HTMLElements\Configurator
 [x] allowElement('b') creates a tag named 'html:b'
 [x] allowElement('B') creates a tag named 'html:b'
 [x] allowElement() returns an instance of Tag
 [x] The prefix can be customized at loading time through the 'prefix' property
 [x] allowElement('script') throws an exception
 [x] allowUnsafeElement('script') allows the 'script' element
 [x] allowUnsafeElement() returns an instance of Tag
 [x] allowAttribute('b', 'title') creates an attribute 'title' on tag 'html:b'
 [x] allowAttribute() returns an instance of Attribute
 [x] Attributes created by allowAttribute() are considered optional
 [x] Attributes that are known to expect an URL are created with the '#url' filter
 [x] allowAttribute('b', 'title') throws an exception if 'b' was not explicitly allowed
 [x] allowAttribute('span', 'onmouseover') throws an exception
 [x] allowAttribute('span', 'style') throws an exception
 [x] allowAttribute('span', 'onmouseover') allows the 'onmouseover' attribute on 'span' elements
 [x] allowUnsafeAttribute() returns an instance of Attribute
 [x] allowElement('*invalid*') throws an exception
 [x] allowAttribute('b', '*invalid*') throws an exception
 [x] asConfig() returns FALSE if no elements were allowed
 [x] Has a quickMatch
 [x] Generates a regexp for its config array

s9e\TextFormatter\Tests\Plugins\HTMLElements\Parser
 [x] Parsing tests
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Plugins\HTMLEntities\Configurator
 [x] Automatically creates an "HE" tag
 [x] The name of the tag used can be changed through the "tagName" constructor option
 [x] The name of the attribute used can be changed through the "attrName" constructor option
 [x] Has a quickMatch
 [x] Generates a regexp for its config array
 [x] The config array contains the name of the tag
 [x] The config array contains the name of the attribute

s9e\TextFormatter\Tests\Plugins\HTMLEntities\Parser
 [x] Parsing tests
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Plugins\WittyPants\Configurator
 [x] Automatically creates a "WP" tag
 [x] Does not attempt to create a tag if it already exists
 [x] The name of the tag used can be changed through the "tagName" constructor option
 [x] The name of the attribute used can be changed through the "attrName" constructor option
 [x] The config array contains the name of the tag
 [x] The config array contains the name of the attribute

s9e\TextFormatter\Tests\Plugins\WittyPants\Parser
 [x] Parsing tests
 [x] Parsing tests (Javascript)
 [x] Parsing+rendering tests

s9e\TextFormatter\Tests\Renderer
 [x] Renders plain text
 [x] Renders multi-line text
 [x] Renders rich text
 [x] renderMulti() renders multiple messages at once
 [x] renderMulti() preserves keys and order
 [x] Renderer is serializable

s9e\TextFormatter\Tests\Unparser
 [x] unparse('<pt>Plain text</pt>') returns 'Plain text'
 [x] asPlainText('<pt>Plain text</pt>') returns 'Plain text'
 [x] unparse('<pt>&lt;Plain text&gt;</pt>') returns '<Plain text>'
 [x] asPlainText('<pt>&lt;Plain text&gt;</pt>') returns '<Plain text>'
 [x] unparse("<mt>a<br />\nb</mt>") returns "a\nb"
 [x] asPlainText("<mt>a<br />\nb</mt>") returns "a\nb"
 [x] unparse('<rt><B><st>[b]</st>Rich<et>[/b]</et></B> text <E>:)</E></rt>') returns '[b]Rich[/b] text :)'
 [x] asPlainText('<rt><B><st>[b]</st>Rich<et>[/b]</et></B> text <E>:)</E></rt>') returns 'Rich text :)'

